<Window x:Class="SimpleLauncher.Presentation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SimpleLauncher.Presentation"
        xmlns:viewmodels="clr-namespace:SimpleLauncher.Presentation.ViewModels"
        xmlns:conv="clr-namespace:SimpleLauncher.Presentation.Converters"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Title="Simple Launcher" Height="608" Width="1000" 
        Background="{StaticResource DarkBackgroundBrush}" 
        MinWidth="1004" 
        MinHeight="300" 
        Closing="Window_Closing">
    <!--<Window.DataContext>-->
    <!--    <viewmodels:MainWindowViewModel />-->
    <!--</Window.DataContext>-->
    <Window.Resources>
        <CollectionViewSource x:Key="ServerListViewSource" Source="{Binding ServerList}"/>
        <conv:PasswordToLockConverter x:Key="PasswordToLockConverter"/>
        <conv:LagcompToIconConverter x:Key="LagcompToIconConverter"/>
        <conv:SampCacToIconConverter x:Key="SampCacToIconConverter"/>
    </Window.Resources>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Верхняя панель с меню -->
        <Border Grid.Row="0" 
                Background="{StaticResource SurfaceDarkBrush}"
                CornerRadius="8"
                Padding="15,10"
                Margin="0,0,0,15"
                Effect="{StaticResource ShadowSmall}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="20"/>
                    <RowDefinition Height="10"/>
                    <RowDefinition Height="20"
                                   x:Name="_extraPanel"
                                   x:FieldModifier="private"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Левое меню -->
                <StackPanel Grid.Column="0" 
                            Grid.Row="0"
                            Orientation="Horizontal" 
                            VerticalAlignment="Center">
                    <TextBlock Text="Monitoring:" 
                               Foreground="{StaticResource TextSecondaryBrush}"
                               VerticalAlignment="Center"
                               Margin="0,0,8,0"/>
                    <Grid Width="200" Height="20">
                        <ComboBox Style="{StaticResource DarkModernComboBox}"
                                  ItemsSource="{Binding MonitoringServices}"
                                  DisplayMemberPath="Name"
                                  SelectedItem="{Binding SelectedMonitoringService, Mode=TwoWay}" 
                                  x:Name="_monitoringListMenu"
                                  x:FieldModifier="private"/>
                        <TextBlock Text="{Binding SelectedMonitoringService.Name, FallbackValue=Select monitoring system}"
                                   VerticalAlignment="Center"
                                   Margin="1,0"
                                   IsHitTestVisible="False"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                    </Grid>
                </StackPanel>
                <StackPanel Grid.Column="0"
                            Grid.ColumnSpan="5"
                            Grid.Row="3">
                    <Button Height="15"
                            Background="Transparent"
                            Foreground="{StaticResource TextSecondaryBrush}"
                            BorderBrush="Transparent"
                            Padding="-15"
                            FontSize="15"
                            Content="↑"
                            Command="{Binding HideExtraMenuCommand}"
                            x:Name="_hideExtraMenuButton"
                            x:FieldModifier="private" Click="_hideExtraMenuButton_Click"/>
                </StackPanel>

                <StackPanel Grid.Column="0"
                            Grid.Row="2"
                            Orientation="Horizontal"
                            VerticalAlignment="Center">
                    <TextBlock Foreground="{StaticResource TextSecondaryBrush}"
                                Text="{Binding Nickname, UpdateSourceTrigger=PropertyChanged}"
                                Width="80"
                                HorizontalAlignment="Center"
                                x:Name="_nickNameTextBlock"
                                x:FieldModifier="private"/>
                    <TextBox Background="{StaticResource DarkBackgroundBrush}"
                             Foreground="{StaticResource TextSecondaryBrush}"
                             Text="{Binding Nickname, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             HorizontalAlignment="Center"
                             Width="170"
                             Height="20"
                             x:Name="_nicknameInput"
                             x:FieldModifier="private"/>
                </StackPanel>

                <!-- Заголовок по центру -->
                <TextBlock Grid.Column="2" 
                           Text="Simple Launcher"
                           Foreground="{StaticResource TextPrimaryBrush}"
                           FontSize="18"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
                <Button Grid.Column="2"
                        Grid.Row="2"
                        Background="{StaticResource DarkBackgroundBrush}"
                        Foreground="{StaticResource TextPrimaryBrush}"
                        Content="Add new server"
                        Width="150"
                        HorizontalAlignment="Center"
                        Click="_addFavoriteServerButton_Click"
                        Command="{Binding AddFavoriteCommand}"
                        x:Name="_addFavoritesButton"
                        x:FieldModifier="private"/>

                <!-- Правое меню -->
                <StackPanel Grid.Column="4" 
                            Orientation="Horizontal" 
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center">
                    <TextBlock Text="Clients:" 
                               Foreground="{StaticResource TextSecondaryBrush}"
                               VerticalAlignment="Center"
                               Margin="0,0,8,0"/>
                    <Grid Width="200" Height="20">
                        <ComboBox Style="{StaticResource DarkModernComboBox}"
                                  Width="200"
                                  ItemsSource="{Binding ClientList}"
                                  DisplayMemberPath="Name"
                                  SelectedItem="{Binding SelectedClient, Mode=TwoWay}"/>
                        <TextBlock Text="{Binding SelectedClient.Name, FallbackValue=Select game build}"
                                   VerticalAlignment="Center"
                                   Margin="1,0"
                                   IsHitTestVisible="False"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                    </Grid>
                </StackPanel>
                <Button Grid.Column="4"
                        Grid.Row="2"
                        Content="Add new game build"
                        Width="140"
                        Background="{StaticResource DarkBackgroundBrush}"
                        Foreground="{StaticResource TextPrimaryBrush}"
                        Command="{Binding AddGameBuildCommand}"
                        x:Name="_addGameBuild"
                        x:FieldModifier="private"/>
            </Grid>
        </Border>

        <!-- Основной список серверов -->
        <Border Grid.Row="1" 
        Background="{StaticResource SurfaceDarkBrush}"
        CornerRadius="8"
        Padding="1"
        Effect="{StaticResource ShadowMedium}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Заголовки столбцов -->
                <Grid Grid.Row="0" 
                    Background="{StaticResource SurfaceDarkBrush}"
                      HorizontalAlignment="Center"
                      Height="15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MinWidth="300"/>
                        <ColumnDefinition MinWidth="130"/>
                        <ColumnDefinition MinWidth="40"/>
                        <ColumnDefinition MinWidth="40"/>
                        <ColumnDefinition MinWidth="100"/>
                        <ColumnDefinition MinWidth="90"/>
                        <ColumnDefinition MinWidth="60"/>
                        <ColumnDefinition MinWidth="90"/>
                        <ColumnDefinition MinWidth="50"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="Name" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="Name" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="1" Text="IpAddress" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="IpAddress" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="2" Text="Online" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="PlayersCount" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="3" Text="Max" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="MaxPlaeyers" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="4" Text="Language" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="Language" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="5" Text="Gamemode" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="Gamemode" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="6" Text="Lagcomp" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="IsLagcomp" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="7" Text="Version" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="Version" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                    <TextBlock Grid.Column="8" Text="Ping" 
                       Background="Transparent" Cursor="SizeNS"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Left">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="MouseLeftButtonUp">
                                <i:InvokeCommandAction Command="{Binding SortCommand}" CommandParameter="Ping" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </TextBlock>
                </Grid>

                <!-- ListView без заголовков -->
                <!-- ItemsSource="{Binding Source={StaticResource ServerListViewSource}}" -->
                <ListView Grid.Row="1"
                  Style="{StaticResource DarkModernListView}"
                  ItemsSource="{Binding ServerListView}"
                  Background="Transparent" 
                  HorizontalAlignment="Center"
                  SelectedItem="{Binding SelectedServer, Mode=TwoWay}"
                  x:Name="_serverList"
                  x:FieldModifier="private">
                    <!--<i:Interaction.Triggers>-->
                        <!--<i:EventTrigger EventName="MouseDoubleClick">
                            <i:InvokeCommandAction Command="{Binding ServerDoubleClickCommand}" 
                                                   CommandParameter="{Binding SelectedServer, RelativeSource={RelativeSource AncestorType=Window}}" />
                        </i:EventTrigger>
                    </i:Interaction.Triggers>-->
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <EventSetter Event="MouseDoubleClick" Handler="ListViewItem_MouseDoubleClick"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#BB86FC"/>
                                    <Setter Property="Foreground" Value="Black"/>
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#9977FF"/>
                                    <Setter Property="Foreground" Value="#111111"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.View>
                        <GridView>
                            <GridViewColumn x:Name="PassColumn" Width="20">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding HasPassword, Converter={StaticResource PasswordToLockConverter}}"
                                                   FontSize="10"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn x:Name="NameColumn" 
                                   Width="280" 
                                   DisplayMemberBinding="{Binding Name}"/>
                            <GridViewColumn x:Name="IpColumn" 
                                   Width="140" 
                                   DisplayMemberBinding="{Binding IpAddress}"/>
                            <GridViewColumn x:Name="PlayersCountColumn" 
                                   Width="35" 
                                   DisplayMemberBinding="{Binding PlayersCount}"/>
                            <GridViewColumn x:Name="MaxPlaeyersColumn" 
                                    Width="35" 
                                    DisplayMemberBinding="{Binding MaxPlaeyers}"/>
                            <GridViewColumn x:Name="LanguageColumn" 
                                   Width="100" 
                                   DisplayMemberBinding="{Binding Language}"/>
                            <GridViewColumn x:Name="GamemodeColumn" 
                                   Width="100" 
                                   DisplayMemberBinding="{Binding Gamemode}"/>
                            <GridViewColumn x:Name="IsLagcompColumn" Width="40">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding IsLagcomp, Converter={StaticResource LagcompToIconConverter}}"
                                                   FontSize="10"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn x:Name="VersionColumn"
                                   Width="100" 
                                   DisplayMemberBinding="{Binding Version}"/>
                            <GridViewColumn x:Name="PingColumn" 
                                   Width="40" 
                                   DisplayMemberBinding="{Binding Ping}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Grid>
        </Border>

        <!-- Нижняя панель -->
        <Grid Grid.Row="2" Margin="0,15,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="529*"/>
                <ColumnDefinition Width="Auto" MinWidth="180"/>
                <ColumnDefinition Width="36*" MinWidth="170"/>
                <ColumnDefinition Width="20*"/>
                <ColumnDefinition Width="132*"/>
            </Grid.ColumnDefinitions>

            <!-- Лог приложения -->
            <Border Grid.Column="0"
                    Background="{StaticResource SurfaceDarkBrush}"
                    CornerRadius="8"
                    Padding="1"
                    Effect="{StaticResource ShadowSmall}" Grid.ColumnSpan="2" Margin="0,0,181,0">
                <Grid Height="80">
                    <ListBox Background="Transparent"
                             BorderThickness="0"
                             ItemsSource="{Binding LogEntries}"
                             FontFamily="Consolas"
                             FontSize="10"
                             Foreground="{StaticResource TextSecondaryBrush}"
                             x:Name="_logBox"
                             x:FieldModifier="private" MouseDoubleClick="_logBox_MouseDoubleClick">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           TextWrapping="Wrap"
                                           Foreground="{StaticResource TextSecondaryBrush}"/>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>

                    <!-- Кнопка очистки лога -->
                    <Button Style="{StaticResource DarkModernButton}"
                            Opacity="0.8"
                            Content="Clear"
                            Width="60"
                            Height="40"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            Margin="0,0,3,3"
                            Command="{Binding ClearLogCommand}"
                            FontSize="8"/>
                </Grid>
            </Border>

            <StackPanel Orientation="Horizontal"
                        Grid.Column="1" Grid.ColumnSpan="2" Margin="0,0,36,0">
                <Button Background="{StaticResource DarkBackgroundBrush}"
                        Foreground="{StaticResource TextSecondaryBrush}"
                        Content="All"
                        Width="50"
                        Height="20"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Margin="5, 5" 
                        Command="{Binding SwitchAllCommand}"/>
                <Button Background="{StaticResource DarkBackgroundBrush}"
                        Foreground="{StaticResource TextSecondaryBrush}"
                        Content="Favorites"
                        Width="51"
                        Height="20"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Margin="5, 5" 
                        Command="{Binding SwitchFavoritesCommand}"/>
                <Button Background="{StaticResource DarkBackgroundBrush}"
                        Foreground="{StaticResource TextSecondaryBrush}"
                        Content="History"
                        Width="50"
                        Height="20"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Margin="5, 5" 
                        Command="{Binding SwitchHistoryCommand}"/>
            </StackPanel>
            <!-- Кнопка обновления по центру -->
            <Button Grid.Column="1"
                    Style="{StaticResource DarkModernButtonPrimary}"
                    Content="Refresh Servers"
                    Width="140"
                    Height="40"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    Margin="0,37,0,0"
                    FontWeight="SemiBold" 
                    Command="{Binding RefreshCommand}"/>

            <TextBox Grid.Column="2"
                    Style="{StaticResource WatermarkTextBox}"
                    Tag="Filter by Hostname"
                    Background="{StaticResource DarkBackgroundBrush}"
                    Foreground="{StaticResource TextSecondaryBrush}"
                    Width="115"
                    Height="20"
                    VerticalAlignment="Top"
                    HorizontalAlignment="Left"
                    Text="{Binding HostnameFilter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    x:Name="_hostnameInput"
                    x:FieldModifier="private"/>
            <CheckBox Grid.Column="2"
                      Background="{StaticResource DarkBackgroundBrush}"
                      Foreground="{StaticResource TextSecondaryBrush}"
                      IsChecked="{Binding IsInvertedHostname, Mode=TwoWay}"
                      Height="20"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Top"
                      Content="Invert"
                      x:Name="_isHostnameInverted"
                      x:FieldModifier="private"/>

            <TextBox Grid.Column="2"
                    Style="{StaticResource WatermarkTextBox}"
                    Tag="Filter by Gamemode"
                    Background="{StaticResource DarkBackgroundBrush}"
                    Foreground="{StaticResource TextSecondaryBrush}"
                    Width="115"
                    Height="20"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Left"
                    Text="{Binding GamemodeFilter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     x:Name="_gamemodeInput"
                     x:FieldModifier="private"/>
            <CheckBox Grid.Column="2"
                      Background="{StaticResource DarkBackgroundBrush}"
                      Foreground="{StaticResource TextSecondaryBrush}"
                      IsChecked="{Binding IsInvertedGamemode, Mode=TwoWay}"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Center"
                      Height="20"
                      Content="Invert"
                      x:Name="_isGamemodeInverted"/>
            <TextBox Grid.Column="2"
                    Style="{StaticResource WatermarkTextBox}"
                    Tag="Filter by Language"
                    Background="{StaticResource DarkBackgroundBrush}"
                    Foreground="{StaticResource TextSecondaryBrush}"
                    Width="115"
                    Height="20"
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Left"
                    Text="{Binding LanguageFilter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     x:Name="_languageInput"
                     x:FieldModifier="private"/>
            <CheckBox Grid.Column="2"
                      Background="{StaticResource DarkBackgroundBrush}"
                      Foreground="{StaticResource TextSecondaryBrush}"
                      IsChecked="{Binding IsInvertedLanguage, Mode=TwoWay}"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Bottom"
                      Height="20"
                      Content="Invert"
                      x:Name="_isLanguageInverted"
                      x:FieldModifier="private"/>
            <StackPanel Grid.Column="4"
                        VerticalAlignment="Top"
                        HorizontalAlignment="Right">
                <Menu Margin="0, 1"
                      BorderBrush="Transparent"
                      Background="{StaticResource DarkBackgroundBrush}"
                      BorderThickness="0.1">
                    <MenuItem Header="Additional filters"
                              Background="{StaticResource DarkBackgroundBrush}"
                              Foreground="{StaticResource TextSecondaryBrush}"
                              BorderThickness="0.1">
                        <MenuItem.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Background="{StaticResource DarkBackgroundBrush}"/>
                            </ItemsPanelTemplate>
                        </MenuItem.ItemsPanel>
                        <MenuItem Header="Only skinhit"
                                  IsCheckable="True"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsOnlyLagcomp, Mode=TwoWay}"
                                  Command="{Binding LagcompFilterCommand}"
                                  x:Name="_filterBySkinhit"
                                  x:FieldModifier="private"/>
                        <MenuItem Header="Only lagshot"
                                  IsCheckable="True"
                                  Margin="0,5"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsOnlyLagshot, Mode=TwoWay}"
                                  Command="{Binding LagshotFilterCommand}"
                                  x:Name="_filterByLagshot"
                                  x:FieldModifier="private"/>
                        <MenuItem Header="Not empty"
                                  IsCheckable="True"
                                  Margin="0,5"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsNotEmpty, Mode=TwoWay}"
                                  Command="{Binding NotEmptyFilterCommand}"
                                  x:Name="_filterIsEmpty"
                                  x:FieldModifier="private"/>
                        <MenuItem Header="Not full"
                                  IsCheckable="True"
                                  Margin="0,5"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsNotFull, Mode=TwoWay}"
                                  Command="{Binding NotFullFilterCommand}"
                                  x:Name="_filterIsFull"
                                  x:FieldModifier="private"/>
                        <MenuItem Header="No password"
                                  IsCheckable="True"
                                  Margin="0,5"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsNoPassword, Mode=TwoWay}"
                                  Command="{Binding NoPasswordFilterCommand}"
                                  x:Name="_filterHasNoPassword"
                                  x:FieldModifier="private"/>
                        <MenuItem Header="Only Open Mp"
                                  IsCheckable="True"
                                  Margin="0,5"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsOnlyOpenMp, Mode=TwoWay}"
                                  Command="{Binding OnlyOpenMpFilterCommand}"
                                  x:Name="_filterOpenMp"
                                  x:FieldModifier="private"/>
                        <MenuItem Header="Only SAMP"
                                  IsCheckable="True"
                                  Margin="0,5"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsOnlySamp, Mode=TwoWay}"
                                  Command="{Binding OnlySampFilterCommand}"
                                  x:Name="_filterSamp"
                                  x:FieldModifier="private"/>
                        <MenuItem Header="Only with SAMPCAC"
                                  IsCheckable="True"
                                  Margin="0,5"
                                  Background="{StaticResource DarkBackgroundBrush}"
                                  Foreground="{StaticResource TextSecondaryBrush}"
                                  BorderThickness="0.1"
                                  IsChecked="{Binding IsSampCac, Mode=TwoWay}"
                                  Command="{Binding SampCacFilterCommand}"
                                  x:Name="_filterSampCac"
                                  x:FieldModifier="private"/>
                    </MenuItem>
                </Menu>

            </StackPanel>

            <!-- Информация о версии -->
            <Border Grid.Column="4"
                    Background="{StaticResource SurfaceDarkBrush}"
                    CornerRadius="8"
                    Padding="5,8"
                    Width="120"
                    Height="25"
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Right"
                    Effect="{StaticResource ShadowSmall}">
                <StackPanel Orientation="Horizontal" 
                            VerticalAlignment="Center">
                    <Path Data="M25,0 L0,25 L0,0 L25,0" 
                          Fill="{StaticResource PrimaryBrush}"
                          Width="10"
                          Height="5"
                          Margin="0,0,8,0"
                          VerticalAlignment="Center"/>
                    <TextBlock x:Name="_versionLabel"
                               x:FieldModifier="private"
                               Text="Version 1.0.0"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               MinWidth="91"
                               FontSize="9"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>